<html ng-app="divvyMapApp">
<head>
    <meta name="viewport" content="initial-scale=1.0">
    <meta charset="utf-8">
  	<script src='//maps.googleapis.com/maps/api/js?key=AIzaSyAzKK9dfzburzkwVzE6pQ3W0FiLYKCexRg'></script>
  	<script src="/node_modules/angular/angular.js"></script>
  	<script src='/node_modules/angular-google-maps/dist/angular-google-maps.js'></script>
  	<script src='/node_modules/angular-simple-logger/dist/angular-simple-logger.js'></script>
   	<script src='/node_modules/lodash/lodash.js'></script>
  	<script src="/controllers/stations.js"></script>
  	<style>
  		.angular-google-map-container { 
  			height: 400px;
  			width: 96%;
  			margin-left: 2%;
  			}
  	</style>
</head>
<body ng-controller="divvyMapController">

<ui-gmap-google-map center='map.center' zoom='map.zoom'>
	<li ng-repeat="station in stations">
		<ui-gmap-marker 
		coords="station.coords" 
		idkey="station.stationId"
		options="{
			title: station.stationName
		}"
		>
			<ui-gmap-window options="windowOptions" closeClick="closeClick()">
                <div>
                	<h1>{{station.stationName}}</h1>
                	<div>Available bikes: {{station.availableBikes}}</div>
                	<div>Available docks: {{station.availableDocks}}</div>
                </div>
            </ui-gmap-window>
		</ui-gmap-marker>
	</li>
</ui-gmap-google-map>
	
	<ul>
	    <li ng-repeat="station in stations">
	        <span>{{station.stationName}}</span>
	        <p>{{station.availableDocks}}</p>
	        <p>{{station.coords.longitude}}</p>
	        <p>{{station.coords.latitude}}</p>
	    </li>
    </ul>
<!-- <ui-gmap-marker coords="marker.coords" options="marker.options" events="marker.events" idkey="marker.id"> -->
</ui-gmap-marker>
</body>
</html>